2024-08-11T11:21:29.681+02:00  INFO 324 --- [backend] [main] c.b.b.details.MaterialeServiceTest       : Starting MaterialeServiceTest using Java 17.0.11 with PID 324 (started by raimo in C:\Users\raimo\OneDrive\Betacom\Git-hub\FinalProject\backend)
2024-08-11T11:21:29.709+02:00 DEBUG 324 --- [backend] [main] c.b.b.details.MaterialeServiceTest       : Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-11T11:21:29.714+02:00  INFO 324 --- [backend] [main] c.b.b.details.MaterialeServiceTest       : No active profile set, falling back to 1 default profile: "default"
2024-08-11T11:21:32.142+02:00  INFO 324 --- [backend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-11T11:21:32.553+02:00  INFO 324 --- [backend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 382 ms. Found 21 JPA repository interfaces.
2024-08-11T11:21:34.410+02:00  INFO 324 --- [backend] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-11T11:21:34.652+02:00  INFO 324 --- [backend] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-11T11:21:34.799+02:00  INFO 324 --- [backend] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-08-11T11:21:35.850+02:00  INFO 324 --- [backend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-11T11:21:35.955+02:00  INFO 324 --- [backend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-08-11T11:21:36.562+02:00  INFO 324 --- [backend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:dbfinal user=SA
2024-08-11T11:21:36.568+02:00  INFO 324 --- [backend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-08-11T11:21:36.642+02:00  WARN 324 --- [backend] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-11T11:21:39.920+02:00  INFO 324 --- [backend] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-11T11:21:40.030+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table camicia (
        id integer generated by default as identity,
        id_lunghezza_manica integer,
        id_taglia integer,
        id_tipo_colletto integer,
        id_vestibilita integer,
        primary key (id)
    )
2024-08-11T11:21:40.050+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table chiusura (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.055+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table colore (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.061+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table fantasia (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.064+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table lunghezza (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.069+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table lunghezza_manica (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.072+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table maglietta (
        id integer generated by default as identity,
        id_lunghezza_manica integer,
        id_taglia integer,
        id_tipo_colletto integer,
        id_vestibilita integer,
        primary key (id)
    )
2024-08-11T11:21:40.076+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table marca (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.083+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table materiale (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.087+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table messaggi (
        codice varchar(255) not null,
        messaggio varchar(255),
        primary key (codice)
    )
2024-08-11T11:21:40.096+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table ordine (
        id integer generated by default as identity,
        data varchar(255),
        prezzo_totale integer not null,
        stato tinyint not null check (stato between 0 and 3),
        id_utente integer,
        primary key (id)
    )
2024-08-11T11:21:40.108+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table pantalone (
        id integer generated by default as identity,
        id_lunghezza integer,
        id_taglia integer,
        id_vestibilita integer,
        primary key (id)
    )
2024-08-11T11:21:40.115+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table prodotti_ordini (
        id integer generated by default as identity,
        qty integer not null,
        id_ordine integer,
        id_prodotto integer,
        primary key (id)
    )
2024-08-11T11:21:40.121+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table prodotto (
        id integer generated by default as identity,
        prezzo integer not null,
        qty integer not null,
        sesso tinyint not null check (sesso between 0 and 2),
        id_camicia integer,
        id_colore integer,
        id_fantasia integer,
        id_maglietta integer,
        id_marca integer,
        id_materiale integer,
        id_pantalone integer,
        id_scarpa integer,
        id_vestito integer,
        primary key (id)
    )
2024-08-11T11:21:40.127+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table scarpa (
        id integer generated by default as identity,
        taglia_scarpe integer not null,
        id_chiusura integer,
        id_tipo_scarpa integer,
        primary key (id)
    )
2024-08-11T11:21:40.132+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table taglia (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.140+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table tipo_colletto (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.146+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table tipo_scarpa (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.157+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table utente (
        id integer generated by default as identity,
        cap integer,
        civico varchar(255),
        cognome varchar(255) not null,
        mail varchar(255) not null,
        nome varchar(255) not null,
        paese varchar(255),
        password varchar(255) not null,
        ruolo tinyint not null check (ruolo between 0 and 1),
        strada varchar(255),
        primary key (id)
    )
2024-08-11T11:21:40.160+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table vestibilita (
        id integer generated by default as identity,
        descrizione varchar(45) not null,
        primary key (id)
    )
2024-08-11T11:21:40.169+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    create table vestito (
        id integer generated by default as identity,
        id_lunghezza integer,
        id_lunghezza_manica integer,
        id_taglia integer,
        id_vestibilita integer,
        primary key (id)
    )
2024-08-11T11:21:40.178+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists utente 
       drop constraint if exists UK_p72xb2utk1ksr1ymf57y37w04
2024-08-11T11:21:40.183+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists utente 
       add constraint UK_p72xb2utk1ksr1ymf57y37w04 unique (mail)
2024-08-11T11:21:40.187+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists camicia 
       add constraint FKp9yyo4ecr31xd79hiycxts3g2 
       foreign key (id_lunghezza_manica) 
       references lunghezza_manica
2024-08-11T11:21:40.202+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists camicia 
       add constraint FKnoaliami3f0oo3o60eix7qmxi 
       foreign key (id_taglia) 
       references taglia
2024-08-11T11:21:40.206+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists camicia 
       add constraint FK4nokon7cv660t2pmxq82n085q 
       foreign key (id_tipo_colletto) 
       references tipo_colletto
2024-08-11T11:21:40.225+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists camicia 
       add constraint FKgeh2fbgol42pco61i5jpoc82f 
       foreign key (id_vestibilita) 
       references vestibilita
2024-08-11T11:21:40.229+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists maglietta 
       add constraint FK9ub6ddwr3xjcvk4wtreimfuk3 
       foreign key (id_lunghezza_manica) 
       references lunghezza_manica
2024-08-11T11:21:40.238+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists maglietta 
       add constraint FK84ts4i4q2vrl7mbfw9eocvuk2 
       foreign key (id_taglia) 
       references taglia
2024-08-11T11:21:40.245+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists maglietta 
       add constraint FK51obvk32ly3j9xrvmuxth6v0v 
       foreign key (id_tipo_colletto) 
       references tipo_colletto
2024-08-11T11:21:40.250+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists maglietta 
       add constraint FK1kqbeyj5j9u1ibudfqrqeiu9e 
       foreign key (id_vestibilita) 
       references vestibilita
2024-08-11T11:21:40.253+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists ordine 
       add constraint FKgsxxfj3dm1kfppteavqrvkwcr 
       foreign key (id_utente) 
       references utente
2024-08-11T11:21:40.258+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists pantalone 
       add constraint FKk0u5eck12eeftsvq181oe93ot 
       foreign key (id_lunghezza) 
       references lunghezza
2024-08-11T11:21:40.263+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists pantalone 
       add constraint FKny36hnmhmjk9v2x6cwht2rgoi 
       foreign key (id_taglia) 
       references taglia
2024-08-11T11:21:40.267+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists pantalone 
       add constraint FKhw64r0etybfujkr1k7c0ld2g 
       foreign key (id_vestibilita) 
       references vestibilita
2024-08-11T11:21:40.271+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotti_ordini 
       add constraint FKi2mbnw4n2cb3fefi51etj2mud 
       foreign key (id_ordine) 
       references ordine
2024-08-11T11:21:40.274+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotti_ordini 
       add constraint FKnvgotj0nphoul71tcbyb6icij 
       foreign key (id_prodotto) 
       references prodotto
2024-08-11T11:21:40.281+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FKnylcw9cgwgyu4n8h1u06031tn 
       foreign key (id_camicia) 
       references camicia
2024-08-11T11:21:40.290+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FK6ia54rtygaey4syubw578mxs4 
       foreign key (id_colore) 
       references colore
2024-08-11T11:21:40.296+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FKd6br6vgm6sca3djassgq4wgh6 
       foreign key (id_fantasia) 
       references fantasia
2024-08-11T11:21:40.306+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FKp9or9ilge0qnwtq7g5p4vwnue 
       foreign key (id_maglietta) 
       references maglietta
2024-08-11T11:21:40.310+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FK6d9dw86iywursj1h1e7l59jvi 
       foreign key (id_marca) 
       references marca
2024-08-11T11:21:40.315+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FK7j9xeo0vijpsiwmqvj0tkccgj 
       foreign key (id_materiale) 
       references materiale
2024-08-11T11:21:40.321+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FK7yfnrrtc7ac3ihfc1geckx4bf 
       foreign key (id_pantalone) 
       references pantalone
2024-08-11T11:21:40.326+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FKggnjgyshhsx2jvayfofjos8rn 
       foreign key (id_scarpa) 
       references scarpa
2024-08-11T11:21:40.331+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists prodotto 
       add constraint FKdvnhbpn91qum2cr3jblywns9v 
       foreign key (id_vestito) 
       references vestito
2024-08-11T11:21:40.335+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists scarpa 
       add constraint FK9halp1d4og2p9fahutsugclg2 
       foreign key (id_chiusura) 
       references chiusura
2024-08-11T11:21:40.338+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists scarpa 
       add constraint FK22na7mkgqvptcnsjpqjqcp1oe 
       foreign key (id_tipo_scarpa) 
       references tipo_scarpa
2024-08-11T11:21:40.341+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists vestito 
       add constraint FKqtwawxx5lq2hc1y0ovwkp9lei 
       foreign key (id_lunghezza) 
       references lunghezza
2024-08-11T11:21:40.345+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists vestito 
       add constraint FK86f2db9kqrogp4f7nfyxmen6q 
       foreign key (id_lunghezza_manica) 
       references lunghezza_manica
2024-08-11T11:21:40.350+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists vestito 
       add constraint FKrx54cqy1uqlngjq6jnwhdvtrn 
       foreign key (id_taglia) 
       references taglia
2024-08-11T11:21:40.356+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    alter table if exists vestito 
       add constraint FKemt2twvdo5e3thnf39oix4sbv 
       foreign key (id_vestibilita) 
       references vestibilita
2024-08-11T11:21:40.364+02:00  INFO 324 --- [backend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-11T11:21:42.147+02:00  WARN 324 --- [backend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-08-11T11:21:43.167+02:00  INFO 324 --- [backend] [main] c.b.b.details.MaterialeServiceTest       : Started MaterialeServiceTest in 14.332 seconds (process running for 16.406)
2024-08-11T11:21:44.756+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0
2024-08-11T11:21:44.852+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    insert 
    into
        materiale
        (descrizione, id) 
    values
        (?, default)
2024-08-11T11:21:44.981+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.id=?
2024-08-11T11:21:45.039+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0
2024-08-11T11:21:45.081+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.id=?
2024-08-11T11:21:45.118+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    update
        materiale 
    set
        descrizione=? 
    where
        id=?
2024-08-11T11:21:45.145+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.id=?
2024-08-11T11:21:45.151+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.codice,
        m1_0.messaggio 
    from
        messaggi m1_0 
    where
        m1_0.codice=?
2024-08-11T11:21:45.182+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0
2024-08-11T11:21:45.191+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.codice,
        m1_0.messaggio 
    from
        messaggi m1_0 
    where
        m1_0.codice=?
2024-08-11T11:21:45.211+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.id=?
2024-08-11T11:21:45.222+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0
2024-08-11T11:21:45.227+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.codice,
        m1_0.messaggio 
    from
        messaggi m1_0 
    where
        m1_0.codice=?
2024-08-11T11:21:45.247+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.codice,
        m1_0.messaggio 
    from
        messaggi m1_0 
    where
        m1_0.codice=?
2024-08-11T11:21:45.261+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.id=?
2024-08-11T11:21:45.267+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.codice,
        m1_0.messaggio 
    from
        messaggi m1_0 
    where
        m1_0.codice=?
2024-08-11T11:21:45.412+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.descrizione=?
2024-08-11T11:21:45.436+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.descrizione=?
2024-08-11T11:21:45.442+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.codice,
        m1_0.messaggio 
    from
        messaggi m1_0 
    where
        m1_0.codice=?
2024-08-11T11:21:45.459+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.id=?
2024-08-11T11:21:45.478+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.id,
        m1_0.descrizione 
    from
        materiale m1_0 
    where
        m1_0.id=?
2024-08-11T11:21:45.486+02:00 DEBUG 324 --- [backend] [main] org.hibernate.SQL                        : 
    select
        m1_0.codice,
        m1_0.messaggio 
    from
        messaggi m1_0 
    where
        m1_0.codice=?
2024-08-11T11:21:45.522+02:00  INFO 324 --- [backend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-11T11:21:45.527+02:00  INFO 324 --- [backend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-08-11T11:21:45.536+02:00  INFO 324 --- [backend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
